<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulaci√≥n: Vector vs Raster</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; display: flex; flex-direction: column; align-items: center; background: #f0f4f8; }
        .container { display: flex; gap: 20px; margin-top: 20px; flex-wrap: wrap; justify-content: center; }
        .view-box { border: 2px solid #ccc; width: 300px; height: 300px; background: white; overflow: hidden; position: relative; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        .label { position: absolute; top: 10px; left: 10px; background: rgba(0,0,0,0.7); color: white; padding: 5px 10px; border-radius: 4px; font-weight: bold; }
        
        /* Vector Content */
        #svg-star { fill: #3498db; stroke: #2980b9; stroke-width: 5; transition: transform 0.1s; transform-origin: center; }
        
        /* Raster Content (Simulated with simple div/img, but we use CSS radial gradient to show pixels on zoom) */
        #raster-star {
            width: 100px; height: 100px;
            background: radial-gradient(circle, #e74c3c 0%, #e74c3c 70%, transparent 70%);
            position: absolute; top: 50%; left: 50%;
            transform: translate(-50%, -50%);
        }
        
        .controls { margin: 20px; padding: 20px; background: white; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.05); text-align: center; }
        input[type=range] { width: 300px; }
        
        /* Raster Pixelation Effect on Zoom */
        .pixelated { image-rendering: pixelated; }
    </style>
</head>
<body>
    <h1>üîç Experimento: El Zoom Infinito</h1>
    <p>Arrastra el deslizador para hacer zoom. Observa los bordes.</p>

    <div class="controls">
        <label for="zoom">Nivel de Zoom: <span id="v-zoom">1x</span></label><br>
        <input type="range" id="zoom" min="1" max="20" step="0.5" value="1">
    </div>

    <div class="container">
        <div class="view-box">
            <span class="label">SVG (Vector)</span>
            <svg viewBox="0 0 200 200" width="100%" height="100%">
                <g id="vector-group">
                    <circle cx="100" cy="100" r="50" fill="#3498db" />
                    <text x="100" y="100" fill="white" text-anchor="middle" dy="5" font-size="12">INFINITO</text>
                </g>
            </svg>
        </div>
        
        <div class="view-box">
            <span class="label">PNG (Raster Simulada)</span>
            <div id="raster-container" style="width: 100%; height: 100%; display:flex; justify-content:center; align-items:center; overflow:hidden;">
                 <!-- Using a small canvas to force heavy pixelation scaling -->
                 <canvas id="raster-canvas" width="50" height="50" style="width: 100px; height: 100px;"></canvas>
            </div>
        </div>
    </div>

    <script>
        const slider = document.getElementById('zoom');
        const vZoom = document.getElementById('v-zoom');
        const vectorGroup = document.getElementById('vector-group');
        const rasterCanvas = document.getElementById('raster-canvas');
        const ctx = rasterCanvas.getContext('2d');

        // Draw 'raster' circle
        ctx.fillStyle = '#e74c3c';
        ctx.beginPath();
        ctx.arc(25, 25, 20, 0, Math.PI * 2);
        ctx.fill();
        ctx.fillStyle = 'white';
        ctx.fillText("PIXELS", 10, 28);

        slider.addEventListener('input', (e) => {
            const val = e.target.value;
            vZoom.textContent = val + 'x';

            // Scale Vector
            // We use transform directly on the group, centered
            vectorGroup.setAttribute('transform', `scale(${val}) translate(${100 - (100*val)/val}, ${100 - (100*val)/val})`); 
            // Better logic: center is 100,100.
            // transform="translate(100,100) scale(val) translate(-100,-100)"
             vectorGroup.setAttribute('transform', `translate(100,100) scale(${val}) translate(-100,-100)`);

            // Scale Raster
            // We scale the CSS width/height, browser rendering does the rest (pixelated via CSS class if needed)
            // Initial size is 100px.
            const newSize = 100 * val;
            rasterCanvas.style.width = newSize + 'px';
            rasterCanvas.style.height = newSize + 'px';
            
            // Add pixelated class if zoom > 2
            if(val > 2) {
                rasterCanvas.classList.add('pixelated');
            } else {
                rasterCanvas.classList.remove('pixelated');
            }
        });
    </script>
</body>
</html>
